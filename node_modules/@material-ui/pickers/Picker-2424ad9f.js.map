{"version":3,"file":"Picker-2424ad9f.js","sources":["../src/_helpers/date-utils.ts","../src/_helpers/text-field-helper.ts","../src/_shared/hooks/useMaskedInput.tsx","../src/_shared/KeyboardDateInput.tsx","../src/_shared/hooks/date-helpers-hooks.tsx","../src/constants/prop-types.ts","../src/_shared/hooks/useViews.tsx","../src/views/Calendar/Month.tsx","../src/views/Calendar/MonthSelection.tsx","../src/views/Calendar/useCalendarState.tsx","../src/views/Calendar/FadeTransitionGroup.tsx","../src/_shared/icons/ArrowDropDownIcon.tsx","../src/views/Calendar/CalendarHeader.tsx","../src/views/Calendar/Year.tsx","../src/views/Calendar/YearSelection.tsx","../src/views/Calendar/CalendarView.tsx","../src/_shared/hooks/useIsLandscape.tsx","../src/views/MobileKeyboardInputView.tsx","../src/Picker/Picker.tsx"],"sourcesContent":["import { arrayIncludes } from './utils';\nimport { ParsableDate } from '../constants/prop-types';\nimport { BasePickerProps } from '../typings/BasePicker';\nimport { DatePickerView } from '../DatePicker/DatePicker';\nimport { MuiPickersAdapter } from '../_shared/hooks/useUtils';\nimport { DateRange, RangeInput } from '../DateRangePicker/RangeTypes';\n\ninterface FindClosestDateParams {\n  date: unknown;\n  utils: MuiPickersAdapter;\n  minDate: unknown;\n  maxDate: unknown;\n  disableFuture: boolean;\n  disablePast: boolean;\n  shouldDisableDate: (date: unknown) => boolean;\n}\n\nexport const findClosestEnabledDate = ({\n  date,\n  utils,\n  minDate,\n  maxDate,\n  disableFuture,\n  disablePast,\n  shouldDisableDate,\n}: FindClosestDateParams) => {\n  const today = utils.startOfDay(utils.date());\n\n  if (disablePast && utils.isBefore(minDate!, today)) {\n    minDate = today;\n  }\n\n  if (disableFuture && utils.isAfter(maxDate, today)) {\n    maxDate = today;\n  }\n\n  let forward = date;\n  let backward = date;\n  if (utils.isBefore(date, minDate)) {\n    forward = utils.date(minDate);\n    backward = null;\n  }\n\n  if (utils.isAfter(date, maxDate)) {\n    if (backward) {\n      backward = utils.date(maxDate);\n    }\n\n    forward = null;\n  }\n\n  while (forward || backward) {\n    if (forward && utils.isAfter(forward, maxDate)) {\n      forward = null;\n    }\n    if (backward && utils.isBefore(backward, minDate)) {\n      backward = null;\n    }\n\n    if (forward) {\n      if (!shouldDisableDate(forward)) {\n        return forward;\n      }\n      forward = utils.addDays(forward, 1);\n    }\n\n    if (backward) {\n      if (!shouldDisableDate(backward)) {\n        return backward;\n      }\n      backward = utils.addDays(backward, -1);\n    }\n  }\n\n  // fallback to today if no enabled days\n  return utils.date();\n};\n\nexport const isYearOnlyView = (views: readonly DatePickerView[]) =>\n  views.length === 1 && views[0] === 'year';\n\nexport const isYearAndMonthViews = (views: readonly DatePickerView[]) =>\n  views.length === 2 && arrayIncludes(views, 'month') && arrayIncludes(views, 'year');\n\nexport const getFormatAndMaskByViews = (\n  views: readonly DatePickerView[],\n  utils: MuiPickersAdapter\n) => {\n  if (isYearOnlyView(views)) {\n    return {\n      mask: '____',\n      inputFormat: utils.formats.year,\n    };\n  }\n\n  if (isYearAndMonthViews(views)) {\n    return {\n      disableMaskedInput: true,\n      inputFormat: utils.formats.monthAndYear,\n    };\n  }\n\n  return {\n    mask: '__/__/____',\n    inputFormat: utils.formats.keyboardDate,\n  };\n};\n\nexport function parsePickerInputValue(\n  utils: MuiPickersAdapter,\n  { value }: BasePickerProps\n): unknown | null {\n  const parsedValue = utils.date(value);\n\n  return utils.isValid(parsedValue) ? parsedValue : null;\n}\n\nexport function parseRangeInputValue(\n  utils: MuiPickersAdapter,\n  { value = [null, null] }: BasePickerProps<RangeInput, DateRange>\n) {\n  return value.map(date =>\n    !utils.isValid(date) || date === null ? null : utils.startOfDay(utils.date(date))\n  ) as DateRange;\n}\n\nexport const isRangeValid = (\n  utils: MuiPickersAdapter,\n  range: DateRange | null\n): range is DateRange => {\n  return Boolean(range && range[0] && range[1] && utils.isBefore(range[0], range[1]));\n};\n\nexport const isWithinRange = (utils: MuiPickersAdapter, day: unknown, range: DateRange | null) => {\n  return isRangeValid(utils, range) && utils.isWithinRange(day, range);\n};\n\nexport const isStartOfRange = (utils: MuiPickersAdapter, day: unknown, range: DateRange | null) => {\n  return isRangeValid(utils, range) && utils.isSameDay(day, range[0]);\n};\n\nexport const isEndOfRange = (utils: MuiPickersAdapter, day: unknown, range: DateRange | null) => {\n  return isRangeValid(utils, range) && utils.isSameDay(day, range[1]);\n};\n\nexport interface DateValidationProps {\n  /**\n   * Min selectable date. @DateIOType\n   * @default Date(1900-01-01)\n   */\n  minDate?: unknown;\n  /**\n   * Max selectable date. @DateIOType\n   * @default Date(2099-31-12)\n   */\n  maxDate?: unknown;\n  /**\n   * Disable specific date. @DateIOType\n   */\n  shouldDisableDate?: (day: unknown) => boolean;\n  /**\n   * Disable past dates.\n   * @default false\n   */\n  disablePast?: boolean;\n  /**\n   * Disable future dates.\n   * @default false\n   */\n  disableFuture?: boolean;\n}\n\nexport const validateDate = (\n  utils: MuiPickersAdapter,\n  value: unknown | ParsableDate,\n  { minDate, maxDate, disableFuture, shouldDisableDate, disablePast }: DateValidationProps\n) => {\n  const now = utils.date();\n  const date = utils.date(value);\n\n  if (value === null) {\n    return null;\n  }\n\n  switch (true) {\n    case !utils.isValid(value):\n      return 'invalidDate';\n\n    case Boolean(shouldDisableDate && shouldDisableDate(date)):\n      return 'shouldDisableDate';\n\n    case Boolean(disableFuture && utils.isAfterDay(date, now)):\n      return 'disableFuture';\n\n    case Boolean(disablePast && utils.isBeforeDay(date, now)):\n      return 'disablePast';\n\n    case Boolean(minDate && utils.isBeforeDay(date, minDate)):\n      return 'minDate';\n\n    case Boolean(maxDate && utils.isAfterDay(date, maxDate)):\n      return 'maxDate';\n\n    default:\n      return null;\n  }\n};\n\nexport type DateValidationError = ReturnType<typeof validateDate>;\n\ntype DateRangeValidationErrorValue = DateValidationError | 'invalidRange' | null;\n\nexport type DateRangeValidationError = [\n  DateRangeValidationErrorValue,\n  DateRangeValidationErrorValue\n];\n\nexport const validateDateRange = (\n  utils: MuiPickersAdapter,\n  value: RangeInput,\n  dateValidationProps: DateValidationProps\n): [DateRangeValidationErrorValue, DateRangeValidationErrorValue] => {\n  const [start, end] = value;\n\n  // for partial input\n  if (start === null || end === null) {\n    return [null, null];\n  }\n\n  const dateValidations = [\n    validateDate(utils, start, dateValidationProps),\n    validateDate(utils, end, dateValidationProps),\n  ] as [DateRangeValidationErrorValue, DateRangeValidationErrorValue];\n\n  if (dateValidations[0] || dateValidations[1]) {\n    return dateValidations;\n  }\n\n  if (!isRangeValid(utils, [utils.date(start), utils.date(end)])) {\n    return ['invalidRange', 'invalidRange'];\n  }\n\n  return [null, null];\n};\n","import { ParsableDate } from '../constants/prop-types';\nimport { MuiPickersAdapter } from '../_shared/hooks/useUtils';\n\nexport function getTextFieldAriaText(rawValue: ParsableDate, utils: MuiPickersAdapter) {\n  return rawValue && utils.isValid(utils.date(rawValue))\n    ? `Choose date, selected date is ${utils.format(utils.date(rawValue), 'fullDate')}`\n    : 'Choose date';\n}\n\nexport const getDisplayDate = (\n  utils: MuiPickersAdapter,\n  value: ParsableDate,\n  inputFormat: string\n) => {\n  const date = utils.date(value);\n  const isEmpty = value === null;\n\n  if (isEmpty) {\n    return '';\n  }\n\n  return utils.isValid(date) ? utils.formatByString(date, inputFormat) : '';\n};\n\nexport function pick12hOr24hFormat(\n  userFormat: string | undefined,\n  ampm: boolean | undefined,\n  formats: { localized: string; '12h': string; '24h': string }\n) {\n  if (userFormat) {\n    return userFormat;\n  }\n\n  if (typeof ampm === 'undefined') {\n    return formats.localized;\n  }\n\n  return ampm ? formats['12h'] : formats['24h'];\n}\n\nconst MASK_USER_INPUT_SYMBOL = '_';\nexport const staticDateWith2DigitTokens = new Date('2019-11-21T22:30:00.000');\nexport const staticDateWith1DigitTokens = new Date('2019-01-01T09:00:00.000');\n\nexport function checkMaskIsValidForCurrentFormat(\n  mask: string,\n  format: string,\n  acceptRegex: RegExp,\n  utils: MuiPickersAdapter\n) {\n  const formattedDateWith1Digit = utils.formatByString(\n    utils.date(staticDateWith1DigitTokens),\n    format\n  );\n  const inferredFormatPatternWith1Digits = formattedDateWith1Digit.replace(\n    acceptRegex,\n    MASK_USER_INPUT_SYMBOL\n  );\n\n  const inferredFormatPatternWith2Digits = utils\n    .formatByString(utils.date(staticDateWith2DigitTokens), format)\n    .replace(acceptRegex, '_');\n\n  const isMaskValid =\n    inferredFormatPatternWith2Digits === mask && inferredFormatPatternWith1Digits === mask;\n\n  // @ts-ignore Ignore this warning for luxon because it is appearing mostly always (related to the formats structure of luxon itself)\n  if (!isMaskValid && utils.lib !== 'luxon' && process.env.NODE_ENV !== 'production') {\n    console.warn(\n      `The mask \"${mask}\" you passed is not valid for the format used ${format}. Falling down to uncontrolled not-masked input.`\n    );\n  }\n\n  return isMaskValid;\n}\n\nexport const maskedDateFormatter = (mask: string, acceptRegexp: RegExp) => (value: string) => {\n  return value\n    .split('')\n    .map((char, i) => {\n      acceptRegexp.lastIndex = 0;\n\n      if (i > mask.length - 1) {\n        return '';\n      }\n\n      const maskChar = mask[i];\n      const nextMaskChar = mask[i + 1];\n\n      const acceptedChar = acceptRegexp.test(char) ? char : '';\n      const formattedChar =\n        maskChar === MASK_USER_INPUT_SYMBOL ? acceptedChar : maskChar + acceptedChar;\n\n      if (i === value.length - 1 && nextMaskChar && nextMaskChar !== MASK_USER_INPUT_SYMBOL) {\n        // when cursor at the end of mask part (e.g. month) prerender next symbol \"21\" -> \"21/\"\n        return formattedChar ? formattedChar + nextMaskChar : '';\n      } else {\n        return formattedChar;\n      }\n    })\n    .join('');\n};\n","import * as React from 'react';\nimport { useRifm } from 'rifm';\nimport { useUtils } from './useUtils';\nimport { createDelegatedEventHandler } from '../../_helpers/utils';\nimport { DateInputProps, MuiTextFieldProps } from '../PureDateInput';\nimport {\n  maskedDateFormatter,\n  getDisplayDate,\n  checkMaskIsValidForCurrentFormat,\n} from '../../_helpers/text-field-helper';\n\ntype MaskedInputProps = Omit<\n  DateInputProps,\n  | 'open'\n  | 'adornmentPosition'\n  | 'renderInput'\n  | 'openPicker'\n  | 'InputProps'\n  | 'InputAdornmentProps'\n  | 'openPickerIcon'\n  | 'disableOpenPicker'\n  | 'getOpenDialogAriaText'\n  | 'OpenPickerButtonProps'\n> & { inputProps?: Partial<React.HTMLProps<HTMLInputElement>> };\n\nexport function useMaskedInput({\n  acceptRegex = /[\\d]/gi,\n  disabled,\n  disableMaskedInput,\n  ignoreInvalidInputs,\n  inputFormat,\n  inputProps,\n  label,\n  mask,\n  onChange,\n  rawValue,\n  readOnly,\n  rifmFormatter,\n  TextFieldProps,\n  validationError,\n}: MaskedInputProps): MuiTextFieldProps {\n  const utils = useUtils();\n  const isFocusedRef = React.useRef(false);\n\n  const getInputValue = React.useCallback(() => getDisplayDate(utils, rawValue, inputFormat), [\n    inputFormat,\n    rawValue,\n    utils,\n  ]);\n\n  const formatHelperText = utils.getFormatHelperText(inputFormat);\n  const [innerInputValue, setInnerInputValue] = React.useState<string>(getInputValue());\n\n  const shouldUseMaskedInput = React.useMemo(() => {\n    // formatting of dates is a quite slow thing, so do not make useless .format calls\n    if (!mask || disableMaskedInput) {\n      return false;\n    }\n\n    return checkMaskIsValidForCurrentFormat(mask, inputFormat, acceptRegex, utils);\n  }, [acceptRegex, disableMaskedInput, inputFormat, mask, utils]);\n\n  const formatter = React.useMemo(\n    () =>\n      shouldUseMaskedInput && mask ? maskedDateFormatter(mask, acceptRegex) : (st: string) => st,\n    [acceptRegex, mask, shouldUseMaskedInput]\n  );\n\n  React.useEffect(() => {\n    // We do not need to update the input value on keystroke\n    // Because library formatters can change inputs from 12/12/2 to 12/12/0002\n    if ((rawValue === null || utils.isValid(rawValue)) && !isFocusedRef.current) {\n      setInnerInputValue(getInputValue());\n    }\n  }, [utils, getInputValue, rawValue]);\n\n  const handleChange = (text: string) => {\n    const finalString = text === '' || text === mask ? '' : text;\n    setInnerInputValue(finalString);\n\n    const date = finalString === null ? null : utils.parse(finalString, inputFormat);\n    if (ignoreInvalidInputs && !utils.isValid(date)) {\n      return;\n    }\n\n    onChange(date, finalString || undefined);\n  };\n\n  const rifmProps = useRifm({\n    value: innerInputValue,\n    onChange: handleChange,\n    format: rifmFormatter || formatter,\n  });\n\n  const inputStateArgs = shouldUseMaskedInput\n    ? rifmProps\n    : {\n        value: innerInputValue,\n        onChange: (event: React.ChangeEvent<HTMLInputElement>) => {\n          handleChange(event.currentTarget.value);\n        },\n      };\n\n  return {\n    label,\n    disabled,\n    error: validationError,\n    helperText: formatHelperText,\n    inputProps: {\n      ...inputStateArgs,\n      disabled, // make spreading in custom input easier\n      placeholder: formatHelperText,\n      readOnly,\n      type: shouldUseMaskedInput ? 'tel' : 'text',\n      ...inputProps,\n      onFocus: createDelegatedEventHandler(\n        () => (isFocusedRef.current = true),\n        inputProps?.onFocus\n      ),\n      onBlur: createDelegatedEventHandler(() => (isFocusedRef.current = false), inputProps?.onBlur),\n    },\n    ...TextFieldProps,\n  };\n}\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport { useUtils } from './hooks/useUtils';\nimport { CalendarIcon } from './icons/CalendarIcon';\nimport { useForkRef } from '@material-ui/core/utils';\nimport { useMaskedInput } from './hooks/useMaskedInput';\nimport { DateInputProps, DateInputRefs } from './PureDateInput';\nimport { getTextFieldAriaText } from '../_helpers/text-field-helper';\n\nexport const KeyboardDateInput: React.FC<DateInputProps & DateInputRefs> = ({\n  containerRef,\n  inputRef = null,\n  forwardedRef = null,\n  disableOpenPicker: hideOpenPickerButton,\n  getOpenDialogAriaText = getTextFieldAriaText,\n  InputAdornmentProps,\n  InputProps,\n  openPicker: onOpen,\n  OpenPickerButtonProps,\n  openPickerIcon = <CalendarIcon />,\n  renderInput,\n  ...other\n}) => {\n  const utils = useUtils();\n  const inputRefHandle = useForkRef(inputRef, forwardedRef);\n  const textFieldProps = useMaskedInput(other);\n  const adornmentPosition = InputAdornmentProps?.position || 'end';\n\n  return renderInput({\n    ref: containerRef,\n    inputRef: inputRefHandle,\n    ...textFieldProps,\n    InputProps: {\n      ...InputProps,\n      [`${adornmentPosition}Adornment`]: hideOpenPickerButton ? (\n        undefined\n      ) : (\n        <InputAdornment position={adornmentPosition} {...InputAdornmentProps}>\n          <IconButton\n            edge={adornmentPosition}\n            data-mui-test=\"open-picker-from-keyboard\"\n            disabled={other.disabled}\n            aria-label={getOpenDialogAriaText(other.rawValue, utils)}\n            {...OpenPickerButtonProps}\n            onClick={onOpen}\n          >\n            {openPickerIcon}\n          </IconButton>\n        </InputAdornment>\n      ),\n    },\n  });\n};\n\nKeyboardDateInput.propTypes = {\n  acceptRegex: PropTypes.instanceOf(RegExp),\n  getOpenDialogAriaText: PropTypes.func,\n  mask: PropTypes.string,\n  OpenPickerButtonProps: PropTypes.object,\n  openPickerIcon: PropTypes.node,\n  renderInput: PropTypes.func.isRequired,\n  rifmFormatter: PropTypes.func,\n};\n","import * as React from 'react';\nimport { useUtils } from './useUtils';\n\nexport function useParsedDate(possiblyUnparsedValue: any): unknown | undefined {\n  const utils = useUtils();\n  return React.useMemo(\n    () =>\n      typeof possiblyUnparsedValue === 'undefined' ? undefined : utils.date(possiblyUnparsedValue)!,\n    [possiblyUnparsedValue, utils]\n  );\n}\n\ninterface MonthValidationOptions {\n  disablePast?: boolean;\n  disableFuture?: boolean;\n  minDate: unknown;\n  maxDate: unknown;\n}\n\nexport function useNextMonthDisabled(\n  month: unknown,\n  { disableFuture, maxDate }: Pick<MonthValidationOptions, 'disableFuture' | 'maxDate'>\n) {\n  const utils = useUtils();\n  return React.useMemo(() => {\n    const now = utils.date();\n    const lastEnabledMonth = utils.startOfMonth(\n      disableFuture && utils.isBefore(now, maxDate) ? now : maxDate\n    );\n    return !utils.isAfter(lastEnabledMonth, month);\n  }, [disableFuture, maxDate, month, utils]);\n}\n\nexport function usePreviousMonthDisabled(\n  month: unknown,\n  { disablePast, minDate }: Pick<MonthValidationOptions, 'disablePast' | 'minDate'>\n) {\n  const utils = useUtils();\n\n  return React.useMemo(() => {\n    const now = utils.date();\n    const firstEnabledMonth = utils.startOfMonth(\n      disablePast && utils.isAfter(now, minDate) ? now : minDate\n    );\n    return !utils.isBefore(firstEnabledMonth, month);\n  }, [disablePast, minDate, month, utils]);\n}\n","import * as PropTypes from 'prop-types';\n\nexport const date = PropTypes.oneOfType([\n  PropTypes.object,\n  PropTypes.string,\n  PropTypes.number,\n  PropTypes.instanceOf(Date),\n]);\n\nconst datePickerView = PropTypes.oneOf(['year', 'month', 'day']);\n\nexport type ParsableDate<TDate = unknown> = string | number | Date | null | undefined | TDate;\n\nexport const DomainPropTypes = { date, datePickerView };\n\nexport const defaultMinDate = new Date('1900-01-01') as any;\n\nexport const defaultMaxDate = new Date('2099-12-31') as any;\n","import * as React from 'react';\nimport { arrayIncludes } from '../../_helpers/utils';\nimport { PickerSelectionState } from './usePickerState';\n\nimport { AnyPickerView } from '../../Picker/SharedPickerProps';\n\nexport type PickerOnChangeFn<TDate = unknown> = (\n  date: TDate,\n  selectionState?: PickerSelectionState\n) => void;\n\nexport function useViews({\n  views,\n  openTo,\n  onChange,\n  isMobileKeyboardViewOpen,\n  toggleMobileKeyboardView,\n}: {\n  views: AnyPickerView[];\n  openTo: AnyPickerView;\n  onChange: PickerOnChangeFn;\n  isMobileKeyboardViewOpen: boolean;\n  toggleMobileKeyboardView: () => void;\n}) {\n  const [openView, _setOpenView] = React.useState(\n    openTo && arrayIncludes(views, openTo) ? openTo : views[0]\n  );\n\n  const setOpenView = React.useCallback(\n    (...args: Parameters<typeof _setOpenView>) => {\n      if (isMobileKeyboardViewOpen) {\n        toggleMobileKeyboardView();\n      }\n\n      _setOpenView(...args);\n    },\n    [isMobileKeyboardViewOpen, toggleMobileKeyboardView]\n  );\n\n  const previousView = views[views.indexOf(openView!) - 1];\n  const nextView = views[views.indexOf(openView!) + 1];\n\n  const openNext = React.useCallback(() => {\n    if (nextView) {\n      setOpenView(nextView);\n    }\n  }, [nextView, setOpenView]);\n\n  const handleChangeAndOpenNext = React.useCallback(\n    (date: unknown, currentViewSelectionState?: PickerSelectionState) => {\n      const isSelectionFinishedOnCurrentView = currentViewSelectionState === 'finish';\n      const globalSelectionState =\n        isSelectionFinishedOnCurrentView && Boolean(nextView)\n          ? 'partial'\n          : currentViewSelectionState;\n\n      onChange(date, globalSelectionState);\n      if (isSelectionFinishedOnCurrentView) {\n        openNext();\n      }\n    },\n    [nextView, onChange, openNext]\n  );\n\n  return {\n    nextView,\n    previousView,\n    openNext,\n    handleChangeAndOpenNext,\n    openView,\n    setOpenView,\n  };\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { onSpaceOrEnter } from '../../_helpers/utils';\n\nexport interface MonthProps {\n  children: React.ReactNode;\n  disabled?: boolean;\n  onSelect: (value: any) => void;\n  selected?: boolean;\n  value: any;\n}\n\nexport const useStyles = makeStyles(\n  theme => ({\n    root: {\n      flex: '1 0 33.33%',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      cursor: 'pointer',\n      outline: 'none',\n      height: 64,\n      transition: theme.transitions.create('font-size', { duration: '100ms' }),\n      '&:focus': {\n        color: theme.palette.primary.main,\n        fontWeight: theme.typography.fontWeightMedium,\n      },\n      '&:disabled': {\n        pointerEvents: 'none',\n        color: theme.palette.text.secondary,\n      },\n      '&$selected': {\n        color: theme.palette.primary.main,\n        fontWeight: theme.typography.fontWeightMedium,\n      },\n    },\n    selected: {},\n  }),\n  { name: 'MuiPickersMonth' }\n);\n\nexport const Month: React.FC<MonthProps> = ({\n  children,\n  disabled,\n  onSelect,\n  selected,\n  value,\n  ...other\n}) => {\n  const classes = useStyles();\n  const handleSelection = React.useCallback(() => {\n    onSelect(value);\n  }, [onSelect, value]);\n\n  return (\n    <Typography\n      data-mui-test=\"month\"\n      role=\"button\"\n      component=\"div\"\n      className={clsx(classes.root, {\n        [classes.selected]: selected,\n      })}\n      tabIndex={disabled ? -1 : 0}\n      onClick={handleSelection}\n      onKeyDown={onSpaceOrEnter(handleSelection)}\n      color={selected ? 'primary' : undefined}\n      variant={selected ? 'h5' : 'subtitle1'}\n      children={children}\n      {...other}\n    />\n  );\n};\n\nMonth.displayName = 'Month';\n\nexport default Month;\n","import * as React from 'react';\nimport Month from './Month';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useUtils } from '../../_shared/hooks/useUtils';\nimport { ParsableDate } from '../../constants/prop-types';\nimport { PickerOnChangeFn } from '../../_shared/hooks/useViews';\n\nexport interface MonthSelectionProps {\n  date: unknown;\n  minDate?: ParsableDate;\n  maxDate?: ParsableDate;\n  onChange: PickerOnChangeFn;\n  disablePast?: boolean | null | undefined;\n  disableFuture?: boolean | null | undefined;\n  onMonthChange?: (date: unknown) => void | Promise<void>;\n}\n\nexport const useStyles = makeStyles(\n  {\n    root: {\n      width: 310,\n      display: 'flex',\n      flexWrap: 'wrap',\n      alignContent: 'stretch',\n    },\n  },\n  { name: 'MuiPickersMonthSelection' }\n);\n\nexport const MonthSelection: React.FC<MonthSelectionProps> = ({\n  date,\n  disableFuture,\n  disablePast,\n  maxDate,\n  minDate,\n  onChange,\n  onMonthChange,\n}) => {\n  const utils = useUtils();\n  const classes = useStyles();\n  const currentMonth = utils.getMonth(date);\n\n  const shouldDisableMonth = (month: unknown) => {\n    const now = utils.date();\n    const utilMinDate = utils.date(minDate);\n    const utilMaxDate = utils.date(maxDate);\n\n    const firstEnabledMonth = utils.startOfMonth(\n      disablePast && utils.isAfter(now, utilMinDate) ? now : utilMinDate\n    );\n\n    const lastEnabledMonth = utils.startOfMonth(\n      disableFuture && utils.isBefore(now, utilMaxDate) ? now : utilMaxDate\n    );\n\n    const isBeforeFirstEnabled = utils.isBefore(month, firstEnabledMonth);\n    const isAfterLastEnabled = utils.isAfter(month, lastEnabledMonth);\n\n    return isBeforeFirstEnabled || isAfterLastEnabled;\n  };\n\n  const onMonthSelect = React.useCallback(\n    (month: number) => {\n      const newDate = utils.setMonth(date, month);\n\n      onChange(newDate, 'finish');\n      if (onMonthChange) {\n        onMonthChange(newDate);\n      }\n    },\n    [date, onChange, onMonthChange, utils]\n  );\n\n  return (\n    <div className={classes.root}>\n      {utils.getMonthArray(date).map(month => {\n        const monthNumber = utils.getMonth(month);\n        const monthText = utils.format(month, 'monthShort');\n\n        return (\n          <Month\n            key={monthText}\n            value={monthNumber}\n            selected={monthNumber === currentMonth}\n            onSelect={onMonthSelect}\n            disabled={shouldDisableMonth(month)}\n          >\n            {monthText}\n          </Month>\n        );\n      })}\n    </div>\n  );\n};\n","import * as React from 'react';\nimport { CalendarViewProps } from './CalendarView';\nimport { SlideDirection } from './SlideTransition';\nimport { validateDate } from '../../_helpers/date-utils';\nimport { MuiPickersAdapter, useUtils, useNow } from '../../_shared/hooks/useUtils';\n\ninterface CalendarState {\n  isMonthSwitchingAnimating: boolean;\n  currentMonth: unknown;\n  focusedDay: unknown | null;\n  slideDirection: SlideDirection;\n}\n\ntype ReducerAction<TType, TAdditional = {}> = { type: TType } & TAdditional;\n\ninterface ChangeMonthPayload {\n  direction: SlideDirection;\n  newMonth: unknown;\n}\n\nexport const createCalendarStateReducer = (\n  reduceAnimations: boolean,\n  disableSwitchToMonthOnDayFocus: boolean,\n  utils: MuiPickersAdapter\n) => (\n  state: CalendarState,\n  action:\n    | ReducerAction<'finishMonthSwitchingAnimation'>\n    | ReducerAction<'changeMonth', ChangeMonthPayload>\n    | ReducerAction<'changeFocusedDay', { focusedDay: unknown }>\n): CalendarState => {\n  switch (action.type) {\n    case 'changeMonth': {\n      return {\n        ...state,\n        slideDirection: action.direction,\n        currentMonth: action.newMonth,\n        isMonthSwitchingAnimating: !reduceAnimations,\n      };\n    }\n    case 'finishMonthSwitchingAnimation': {\n      return {\n        ...state,\n        isMonthSwitchingAnimating: false,\n      };\n    }\n    case 'changeFocusedDay': {\n      const needMonthSwitch =\n        Boolean(action.focusedDay) &&\n        !disableSwitchToMonthOnDayFocus &&\n        !utils.isSameMonth(state.currentMonth, action.focusedDay);\n\n      return {\n        ...state,\n        focusedDay: action.focusedDay,\n        isMonthSwitchingAnimating: needMonthSwitch && !reduceAnimations,\n        currentMonth: needMonthSwitch ? utils.startOfMonth(action.focusedDay) : state.currentMonth,\n        slideDirection: utils.isAfterDay(action.focusedDay, state.currentMonth) ? 'left' : 'right',\n      };\n    }\n  }\n};\n\ntype CalendarStateInput = Pick<\n  CalendarViewProps,\n  | 'disableFuture'\n  | 'disablePast'\n  | 'shouldDisableDate'\n  | 'date'\n  | 'reduceAnimations'\n  | 'onMonthChange'\n> & {\n  minDate: unknown;\n  maxDate: unknown;\n  disableSwitchToMonthOnDayFocus?: boolean;\n};\n\nexport function useCalendarState({\n  date,\n  disableFuture,\n  disablePast,\n  disableSwitchToMonthOnDayFocus = false,\n  maxDate,\n  minDate,\n  onMonthChange,\n  reduceAnimations,\n  shouldDisableDate,\n}: CalendarStateInput) {\n  const now = useNow();\n  const utils = useUtils();\n  const dateForMonth = date || now;\n  const reducerFn = React.useRef(\n    createCalendarStateReducer(Boolean(reduceAnimations), disableSwitchToMonthOnDayFocus, utils)\n  ).current;\n\n  const [calendarState, dispatch] = React.useReducer(reducerFn, {\n    isMonthSwitchingAnimating: false,\n    focusedDay: date,\n    currentMonth: utils.startOfMonth(dateForMonth),\n    slideDirection: 'left',\n  });\n\n  const handleChangeMonth = React.useCallback(\n    (payload: ChangeMonthPayload) => {\n      dispatch({\n        type: 'changeMonth',\n        ...payload,\n      });\n\n      if (onMonthChange) {\n        onMonthChange(payload.newMonth);\n      }\n    },\n    [onMonthChange]\n  );\n\n  const changeMonth = React.useCallback(\n    (newDate: unknown) => {\n      const newDateRequested = newDate ?? now;\n      if (utils.isSameMonth(newDateRequested, calendarState.currentMonth)) {\n        return;\n      }\n\n      handleChangeMonth({\n        newMonth: utils.startOfMonth(newDateRequested),\n        direction: utils.isAfterDay(newDateRequested, calendarState.currentMonth)\n          ? 'left'\n          : 'right',\n      });\n    },\n    [calendarState.currentMonth, handleChangeMonth, now, utils]\n  );\n\n  const isDateDisabled = React.useCallback(\n    (day: unknown) =>\n      validateDate(utils, day, {\n        disablePast,\n        disableFuture,\n        minDate,\n        maxDate,\n        shouldDisableDate,\n      }) !== null,\n    [disableFuture, disablePast, maxDate, minDate, shouldDisableDate, utils]\n  );\n\n  const onMonthSwitchingAnimationEnd = React.useCallback(() => {\n    dispatch({ type: 'finishMonthSwitchingAnimation' });\n  }, []);\n\n  const changeFocusedDay = React.useCallback(\n    (newFocusedDate: unknown) => {\n      if (!isDateDisabled(newFocusedDate)) {\n        dispatch({ type: 'changeFocusedDay', focusedDay: newFocusedDate });\n      }\n    },\n    [isDateDisabled]\n  );\n\n  return {\n    calendarState,\n    changeMonth,\n    changeFocusedDay,\n    isDateDisabled,\n    onMonthSwitchingAnimationEnd,\n    handleChangeMonth,\n  };\n}\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\n\ninterface FadeTransitionProps {\n  transKey: React.Key;\n  className?: string;\n  reduceAnimations: boolean;\n  children: React.ReactElement;\n}\n\nconst animationDuration = 500;\nexport const useStyles = makeStyles(\n  theme => {\n    return {\n      root: {\n        display: 'block',\n        position: 'relative',\n      },\n      fadeEnter: {\n        willChange: 'transform',\n        opacity: 0,\n      },\n      fadeEnterActive: {\n        opacity: 1,\n        transition: theme.transitions.create('opacity', {\n          duration: animationDuration,\n        }),\n      },\n      fadeExit: {\n        opacity: 1,\n      },\n      fadeExitActive: {\n        opacity: 0,\n        transition: theme.transitions.create('opacity', {\n          duration: animationDuration / 2,\n        }),\n      },\n    };\n  },\n  { name: 'MuiPickersFadeTransition' }\n);\n\nexport const FadeTransitionGroup: React.FC<FadeTransitionProps> = ({\n  children,\n  className,\n  reduceAnimations,\n  transKey,\n}) => {\n  const classes = useStyles();\n  if (reduceAnimations) {\n    return children;\n  }\n\n  const transitionClasses = {\n    exit: classes.fadeExit,\n    enterActive: classes.fadeEnterActive,\n    enter: classes.fadeEnter,\n    exitActive: classes.fadeExitActive,\n  };\n\n  return (\n    <TransitionGroup\n      className={clsx(classes.root, className)}\n      childFactory={element =>\n        React.cloneElement(element, {\n          classNames: transitionClasses,\n        })\n      }\n    >\n      <CSSTransition\n        mountOnEnter\n        unmountOnExit\n        key={transKey}\n        timeout={{ appear: animationDuration, enter: animationDuration / 2, exit: 0 }}\n        classNames={transitionClasses}\n        children={children}\n      />\n    </TransitionGroup>\n  );\n};\n","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n\n/**\n * @ignore - internal component.\n */\nexport const ArrowDropDownIcon = createSvgIcon(<path d=\"M7 10l5 5 5-5z\" />, 'ArrowDropDown');\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Fade from '@material-ui/core/Fade';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport { DatePickerView } from '../../DatePicker';\nimport { SlideDirection } from './SlideTransition';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useUtils } from '../../_shared/hooks/useUtils';\nimport { FadeTransitionGroup } from './FadeTransitionGroup';\nimport { DateValidationProps } from '../../_helpers/date-utils';\nimport { ArrowDropDownIcon } from '../../_shared/icons/ArrowDropDownIcon';\nimport { ArrowSwitcher, ExportedArrowSwitcherProps } from '../../_shared/ArrowSwitcher';\nimport {\n  usePreviousMonthDisabled,\n  useNextMonthDisabled,\n} from '../../_shared/hooks/date-helpers-hooks';\n\nexport interface CalendarHeaderProps\n  extends ExportedArrowSwitcherProps,\n    Omit<DateValidationProps, 'shouldDisableDate'> {\n  view: DatePickerView;\n  views: DatePickerView[];\n  currentMonth: unknown;\n  /**\n   * Get aria-label text for switching between views button.\n   */\n  getViewSwitchingButtonText?: (currentView: DatePickerView) => string;\n  reduceAnimations: boolean;\n  changeView: (view: DatePickerView) => void;\n  minDate: unknown;\n  maxDate: unknown;\n  onMonthChange: (date: unknown, slideDirection: SlideDirection) => void;\n}\n\nexport const useStyles = makeStyles(\n  theme => ({\n    root: {\n      display: 'flex',\n      alignItems: 'center',\n      marginTop: 16,\n      marginBottom: 8,\n      paddingLeft: 24,\n      paddingRight: 12,\n      // prevent jumping in safari\n      maxHeight: 30,\n      minHeight: 30,\n    },\n    yearSelectionSwitcher: {\n      marginRight: 'auto',\n    },\n    previousMonthButton: {\n      marginRight: 24,\n    },\n    switchViewDropdown: {\n      willChange: 'transform',\n      transition: theme.transitions.create('transform'),\n      transform: 'rotate(0deg)',\n    },\n    switchViewDropdownDown: {\n      transform: 'rotate(180deg)',\n    },\n    monthTitleContainer: {\n      display: 'flex',\n      maxHeight: 30,\n      overflow: 'hidden',\n      cursor: 'pointer',\n      marginRight: 'auto',\n    },\n    monthText: {\n      marginRight: 4,\n    },\n  }),\n  { name: 'MuiPickersCalendarHeader' }\n);\n\nfunction getSwitchingViewAriaText(view: DatePickerView) {\n  return view === 'year'\n    ? 'year view is open, switch to calendar view'\n    : 'calendar view is open, switch to year view';\n}\n\nexport const CalendarHeader: React.SFC<CalendarHeaderProps> = ({\n  view: currentView,\n  views,\n  currentMonth: month,\n  changeView,\n  minDate,\n  maxDate,\n  disablePast,\n  disableFuture,\n  onMonthChange,\n  reduceAnimations,\n  leftArrowButtonProps,\n  rightArrowButtonProps,\n  leftArrowIcon,\n  rightArrowIcon,\n  leftArrowButtonText = 'previous month',\n  rightArrowButtonText = 'next month',\n  getViewSwitchingButtonText = getSwitchingViewAriaText,\n}) => {\n  const utils = useUtils();\n  const classes = useStyles();\n\n  const selectNextMonth = () => onMonthChange(utils.getNextMonth(month), 'left');\n  const selectPreviousMonth = () => onMonthChange(utils.getPreviousMonth(month), 'right');\n\n  const isNextMonthDisabled = useNextMonthDisabled(month, { disableFuture, maxDate });\n  const isPreviousMonthDisabled = usePreviousMonthDisabled(month, { disablePast, minDate });\n\n  const toggleView = () => {\n    if (views.length === 1) {\n      return;\n    }\n\n    if (views.length === 2) {\n      changeView(views.find(view => view !== currentView) || views[0]);\n    } else {\n      // switching only between first 2\n      const nextIndexToOpen = views.indexOf(currentView) !== 0 ? 0 : 1;\n      changeView(views[nextIndexToOpen]);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <div className={classes.root}>\n        <div className={classes.monthTitleContainer} onClick={toggleView}>\n          <FadeTransitionGroup\n            reduceAnimations={reduceAnimations}\n            transKey={utils.format(month, 'month')}\n          >\n            <Typography\n              aria-live=\"polite\"\n              data-mui-test=\"calendar-month-text\"\n              align=\"center\"\n              variant=\"subtitle1\"\n              className={classes.monthText}\n              children={utils.format(month, 'month')}\n            />\n          </FadeTransitionGroup>\n          <FadeTransitionGroup\n            reduceAnimations={reduceAnimations}\n            transKey={utils.format(month, 'year')}\n          >\n            <Typography\n              aria-live=\"polite\"\n              data-mui-test=\"calendar-year-text\"\n              align=\"center\"\n              variant=\"subtitle1\"\n              children={utils.format(month, 'year')}\n            />\n          </FadeTransitionGroup>\n\n          {views.length > 1 && (\n            <IconButton\n              size=\"small\"\n              data-mui-test=\"calendar-view-switcher\"\n              onClick={toggleView}\n              className={classes.yearSelectionSwitcher}\n              aria-label={getViewSwitchingButtonText(currentView)}\n            >\n              <ArrowDropDownIcon\n                className={clsx(classes.switchViewDropdown, {\n                  [classes.switchViewDropdownDown]: currentView === 'year',\n                })}\n              />\n            </IconButton>\n          )}\n        </div>\n\n        <Fade in={currentView === 'date'}>\n          <ArrowSwitcher\n            leftArrowButtonProps={leftArrowButtonProps}\n            rightArrowButtonProps={rightArrowButtonProps}\n            leftArrowButtonText={leftArrowButtonText}\n            rightArrowButtonText={rightArrowButtonText}\n            leftArrowIcon={leftArrowIcon}\n            rightArrowIcon={rightArrowIcon}\n            onLeftClick={selectPreviousMonth}\n            onRightClick={selectNextMonth}\n            isLeftDisabled={isPreviousMonthDisabled}\n            isRightDisabled={isNextMonthDisabled}\n          />\n        </Fade>\n      </div>\n    </React.Fragment>\n  );\n};\n\nCalendarHeader.displayName = 'PickersCalendarHeader';\n\nCalendarHeader.propTypes = {\n  leftArrowIcon: PropTypes.node,\n  rightArrowIcon: PropTypes.node,\n  leftArrowButtonText: PropTypes.string,\n  rightArrowButtonText: PropTypes.string,\n};\n\nexport default CalendarHeader;\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { useForkRef } from '@material-ui/core/utils';\nimport { onSpaceOrEnter } from '../../_helpers/utils';\nimport { makeStyles, fade } from '@material-ui/core/styles';\nimport { useCanAutoFocus } from '../../_shared/hooks/useCanAutoFocus';\nimport { WrapperVariantContext } from '../../wrappers/WrapperVariantContext';\n\nexport interface YearProps {\n  children: React.ReactNode;\n  disabled?: boolean;\n  onSelect: (value: any) => void;\n  selected: boolean;\n  focused: boolean;\n  value: any;\n  allowKeyboardControl?: boolean;\n  forwardedRef?: React.Ref<HTMLButtonElement>;\n}\n\nexport const useStyles = makeStyles(\n  theme => ({\n    root: {\n      flexBasis: '33.3%',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      '&$disabled': {\n        color: theme.palette.text.secondary,\n      },\n      '&$selected': {\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n        backgroundColor: theme.palette.primary.main,\n        '&:focus, &:hover': {\n          backgroundColor: theme.palette.primary.dark,\n        },\n      },\n    },\n    modeDesktop: {\n      flexBasis: '25%',\n    },\n    yearButton: {\n      color: 'unset',\n      backgroundColor: 'transparent',\n      border: 'none',\n      outline: 0,\n      ...theme.typography.subtitle1,\n      margin: '8px 0',\n      height: 36,\n      width: 72,\n      borderRadius: 16,\n      cursor: 'pointer',\n      '&:focus, &:hover': {\n        backgroundColor: fade(theme.palette.action.active, theme.palette.action.hoverOpacity),\n      },\n    },\n    disabled: {},\n    selected: {},\n  }),\n  { name: 'MuiPickersYear' }\n);\n\nexport const Year: React.FC<YearProps> = ({\n  allowKeyboardControl,\n  children,\n  disabled,\n  focused,\n  forwardedRef,\n  onSelect,\n  selected,\n  value,\n}) => {\n  const classes = useStyles();\n  const ref = React.useRef<HTMLButtonElement>(null);\n  const refHandle = useForkRef(ref, forwardedRef as React.Ref<HTMLButtonElement>);\n  const canAutoFocus = useCanAutoFocus();\n  const wrapperVariant = React.useContext(WrapperVariantContext);\n\n  React.useEffect(() => {\n    if (canAutoFocus && focused && ref.current && !disabled && allowKeyboardControl) {\n      ref.current.focus();\n    }\n  }, [allowKeyboardControl, canAutoFocus, disabled, focused]);\n\n  return (\n    <div\n      data-mui-test=\"year\"\n      className={clsx(classes.root, {\n        [classes.modeDesktop]: wrapperVariant === 'desktop',\n      })}\n    >\n      <button\n        ref={refHandle}\n        disabled={disabled}\n        data-mui-test={`year-${children}`}\n        tabIndex={selected ? 0 : -1}\n        onClick={() => onSelect(value)}\n        onKeyDown={onSpaceOrEnter(() => onSelect(value))}\n        className={clsx(classes.yearButton, {\n          [classes.disabled]: disabled,\n          [classes.selected]: selected,\n        })}\n      >\n        {children}\n      </button>\n    </div>\n  );\n};\n\nexport default React.forwardRef<HTMLButtonElement, YearProps>((props, ref) => (\n  <Year {...props} forwardedRef={ref} />\n));\n","import * as React from 'react';\nimport Year from './Year';\nimport { useUtils, useNow } from '../../_shared/hooks/useUtils';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { PickerOnChangeFn } from '../../_shared/hooks/useViews';\nimport { findClosestEnabledDate } from '../../_helpers/date-utils';\nimport { PickerSelectionState } from '../../_shared/hooks/usePickerState';\nimport { WrapperVariantContext } from '../../wrappers/WrapperVariantContext';\nimport { useGlobalKeyDown, keycode as keys } from '../../_shared/hooks/useKeyDown';\n\nexport interface ExportedYearSelectionProps {\n  /**\n   * Callback firing on year change @DateIOType.\n   */\n  onYearChange?: (date: unknown) => void;\n  /**\n   * Disable specific years dynamically.\n   * Works like `shouldDisableDate` but for year selection view. @DateIOType.\n   */\n  shouldDisableYear?: (day: unknown) => boolean;\n}\n\nexport interface YearSelectionProps extends ExportedYearSelectionProps {\n  allowKeyboardControl?: boolean;\n  changeFocusedDay: (day: unknown) => void;\n  date: unknown;\n  disableFuture?: boolean | null | undefined;\n  disablePast?: boolean | null | undefined;\n  isDateDisabled: (day: unknown) => boolean;\n  maxDate: unknown;\n  minDate: unknown;\n  onChange: PickerOnChangeFn;\n}\n\nexport const useStyles = makeStyles(\n  {\n    root: {\n      display: 'flex',\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      overflowY: 'auto',\n      height: '100%',\n      margin: '0 4px',\n    },\n  },\n  { name: 'MuiPickersYearSelection' }\n);\n\nexport const YearSelection: React.FC<YearSelectionProps> = ({\n  allowKeyboardControl,\n  changeFocusedDay,\n  date: __dateOrNull,\n  isDateDisabled,\n  maxDate,\n  minDate,\n  disableFuture,\n  disablePast,\n  onChange,\n  onYearChange,\n  shouldDisableYear,\n}) => {\n  const now = useNow();\n  const theme = useTheme();\n  const utils = useUtils();\n  const classes = useStyles();\n\n  const selectedDate = __dateOrNull || now;\n  const currentYear = utils.getYear(selectedDate);\n  const wrapperVariant = React.useContext(WrapperVariantContext);\n  const selectedYearRef = React.useRef<HTMLButtonElement>(null);\n  const [focusedYear, setFocusedYear] = React.useState<number | null>(currentYear);\n\n  const handleYearSelection = React.useCallback(\n    (year: number, isFinish: PickerSelectionState = 'finish') => {\n      const submitDate = (newDate: unknown) => {\n        onChange(newDate, isFinish);\n        changeFocusedDay(newDate);\n\n        if (onYearChange) {\n          onYearChange(newDate);\n        }\n      };\n\n      const newDate = utils.setYear(selectedDate, year);\n      if (isDateDisabled(newDate)) {\n        const closestEnabledDate = findClosestEnabledDate({\n          utils,\n          date: newDate,\n          minDate,\n          maxDate,\n          disablePast: Boolean(disablePast),\n          disableFuture: Boolean(disableFuture),\n          shouldDisableDate: isDateDisabled,\n        });\n\n        submitDate(closestEnabledDate);\n      } else {\n        submitDate(newDate);\n      }\n    },\n    [\n      utils,\n      selectedDate,\n      isDateDisabled,\n      onChange,\n      changeFocusedDay,\n      onYearChange,\n      minDate,\n      maxDate,\n      disablePast,\n      disableFuture,\n    ]\n  );\n\n  const focusYear = React.useCallback(\n    (year: number) => {\n      if (!isDateDisabled(utils.setYear(selectedDate, year))) {\n        setFocusedYear(year);\n      }\n    },\n    [selectedDate, isDateDisabled, utils]\n  );\n\n  const yearsInRow = wrapperVariant === 'desktop' ? 4 : 3;\n  const nowFocusedYear = focusedYear || currentYear;\n  useGlobalKeyDown(Boolean(allowKeyboardControl), {\n    [keys.ArrowUp]: () => focusYear(nowFocusedYear - yearsInRow),\n    [keys.ArrowDown]: () => focusYear(nowFocusedYear + yearsInRow),\n    [keys.ArrowLeft]: () => focusYear(nowFocusedYear + (theme.direction === 'ltr' ? -1 : 1)),\n    [keys.ArrowRight]: () => focusYear(nowFocusedYear + (theme.direction === 'ltr' ? 1 : -1)),\n  });\n\n  return (\n    <div className={classes.root}>\n      {utils.getYearRange(minDate, maxDate).map(year => {\n        const yearNumber = utils.getYear(year);\n        const selected = yearNumber === currentYear;\n\n        return (\n          <Year\n            key={utils.format(year, 'year')}\n            selected={selected}\n            value={yearNumber}\n            onSelect={handleYearSelection}\n            allowKeyboardControl={allowKeyboardControl}\n            focused={yearNumber === focusedYear}\n            ref={selected ? selectedYearRef : undefined}\n            disabled={\n              (disablePast && utils.isBeforeYear(year, now)) ||\n              (disableFuture && utils.isAfterYear(year, now)) ||\n              (shouldDisableYear && shouldDisableYear(year))\n            }\n          >\n            {utils.format(year, 'year')}\n          </Year>\n        );\n      })}\n    </div>\n  );\n};\n","import * as React from 'react';\nimport { MonthSelection } from './MonthSelection';\nimport { DatePickerView } from '../../DatePicker';\nimport { useCalendarState } from './useCalendarState';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useUtils } from '../../_shared/hooks/useUtils';\n\nimport { FadeTransitionGroup } from './FadeTransitionGroup';\nimport { Calendar, ExportedCalendarProps } from './Calendar';\nimport { PickerOnChangeFn } from '../../_shared/hooks/useViews';\nimport { withDefaultProps } from '../../_shared/withDefaultProps';\nimport { DAY_SIZE, DAY_MARGIN } from '../../constants/dimensions';\nimport { CalendarHeader, CalendarHeaderProps } from './CalendarHeader';\nimport { YearSelection, ExportedYearSelectionProps } from './YearSelection';\nimport { defaultMinDate, defaultMaxDate } from '../../constants/prop-types';\nimport { IsStaticVariantContext } from '../../wrappers/WrapperVariantContext';\nimport { DateValidationProps, findClosestEnabledDate } from '../../_helpers/date-utils';\n\ntype PublicCalendarHeaderProps = Pick<\n  CalendarHeaderProps,\n  | 'leftArrowIcon'\n  | 'rightArrowIcon'\n  | 'leftArrowButtonProps'\n  | 'rightArrowButtonProps'\n  | 'leftArrowButtonText'\n  | 'rightArrowButtonText'\n  | 'getViewSwitchingButtonText'\n>;\n\nexport interface CalendarViewProps\n  extends DateValidationProps,\n    ExportedCalendarProps,\n    ExportedYearSelectionProps,\n    PublicCalendarHeaderProps {\n  date: unknown;\n  view: DatePickerView;\n  views: DatePickerView[];\n  changeView: (view: DatePickerView) => void;\n  onChange: PickerOnChangeFn;\n  /**\n   * Disable heavy animations.\n   * @default /(android)/i.test(window.navigator.userAgent).\n   */\n  reduceAnimations?: boolean;\n  /**\n   * Callback firing on month change. @DateIOType\n   */\n  onMonthChange?: (date: unknown) => void;\n}\n\nexport type ExportedCalendarViewProps = Omit<\n  CalendarViewProps,\n  'date' | 'view' | 'views' | 'onChange' | 'changeView' | 'slideDirection' | 'currentMonth'\n>;\n\nconst muiComponentConfig = { name: 'MuiPickersCalendarView' };\n\nexport const useStyles = makeStyles(\n  {\n    viewTransitionContainer: {\n      overflowY: 'auto',\n    },\n    fullHeightContainer: {\n      flex: 1,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      minHeight: (DAY_SIZE + DAY_MARGIN * 4) * 7,\n      height: '100%',\n    },\n  },\n  muiComponentConfig\n);\n\nexport const defaultReduceAnimations =\n  typeof navigator !== 'undefined' && /(android)/i.test(navigator.userAgent);\n\nexport const CalendarView: React.FC<CalendarViewProps> = withDefaultProps(\n  muiComponentConfig,\n  ({\n    allowKeyboardControl: __allowKeyboardControlProp,\n    changeView,\n    date,\n    disableFuture,\n    disablePast,\n    loading,\n    maxDate: __maxDate,\n    minDate: __minDate,\n    onChange,\n    onMonthChange,\n    reduceAnimations = defaultReduceAnimations,\n    renderLoading,\n    shouldDisableDate,\n    shouldDisableYear,\n    view,\n    ...other\n  }) => {\n    const utils = useUtils();\n    const classes = useStyles();\n    const isStatic = React.useContext(IsStaticVariantContext);\n    const allowKeyboardControl = __allowKeyboardControlProp ?? !isStatic;\n\n    const minDate = __minDate || utils.date(defaultMinDate);\n    const maxDate = __maxDate || utils.date(defaultMaxDate);\n\n    const {\n      calendarState,\n      changeFocusedDay,\n      changeMonth,\n      isDateDisabled,\n      handleChangeMonth,\n      onMonthSwitchingAnimationEnd,\n    } = useCalendarState({\n      date,\n      reduceAnimations,\n      onMonthChange,\n      minDate,\n      maxDate,\n      shouldDisableDate,\n      disablePast,\n      disableFuture,\n    });\n\n    React.useEffect(() => {\n      if (date && isDateDisabled(date)) {\n        const closestEnabledDate = findClosestEnabledDate({\n          utils,\n          date,\n          minDate,\n          maxDate,\n          disablePast: Boolean(disablePast),\n          disableFuture: Boolean(disableFuture),\n          shouldDisableDate: isDateDisabled,\n        });\n\n        onChange(closestEnabledDate, 'partial');\n      }\n      // This call is too expensive to run it on each prop change.\n      // So just ensure that we are not rendering disabled as selected on mount.\n    }, []); // eslint-disable-line\n\n    React.useEffect(() => {\n      changeMonth(date);\n    }, [date]); // eslint-disable-line\n\n    return (\n      <React.Fragment>\n        <CalendarHeader\n          {...other}\n          view={view}\n          currentMonth={calendarState.currentMonth}\n          changeView={changeView}\n          onMonthChange={(newMonth, direction) => handleChangeMonth({ newMonth, direction })}\n          minDate={minDate}\n          maxDate={maxDate}\n          disablePast={disablePast}\n          disableFuture={disableFuture}\n          reduceAnimations={reduceAnimations}\n        />\n\n        <FadeTransitionGroup\n          reduceAnimations={reduceAnimations}\n          className={classes.viewTransitionContainer}\n          transKey={view}\n        >\n          <div>\n            {view === 'year' && (\n              <YearSelection\n                {...other}\n                date={date}\n                onChange={onChange}\n                minDate={minDate}\n                maxDate={maxDate}\n                disableFuture={disableFuture}\n                disablePast={disablePast}\n                isDateDisabled={isDateDisabled}\n                allowKeyboardControl={allowKeyboardControl}\n                shouldDisableYear={shouldDisableYear}\n                changeFocusedDay={changeFocusedDay}\n              />\n            )}\n\n            {view === 'month' && (\n              <MonthSelection\n                {...other}\n                date={date}\n                onChange={onChange}\n                minDate={minDate}\n                maxDate={maxDate}\n                onMonthChange={onMonthChange}\n              />\n            )}\n\n            {view === 'date' && (\n              <Calendar\n                {...other}\n                {...calendarState}\n                onMonthSwitchingAnimationEnd={onMonthSwitchingAnimationEnd}\n                changeFocusedDay={changeFocusedDay}\n                reduceAnimations={reduceAnimations}\n                date={date}\n                onChange={onChange}\n                isDateDisabled={isDateDisabled}\n                allowKeyboardControl={allowKeyboardControl}\n                loading={loading}\n                renderLoading={renderLoading}\n              />\n            )}\n          </div>\n        </FadeTransitionGroup>\n      </React.Fragment>\n    );\n  }\n);\n","import * as React from 'react';\nimport { useIsomorphicEffect } from './useKeyDown';\nimport { arrayIncludes } from '../../_helpers/utils';\nimport { DateTimePickerView } from '../../DateTimePicker';\nimport { BasePickerProps } from '../../typings/BasePicker';\n\nconst getOrientation = () => {\n  if (typeof window === 'undefined') {\n    return 'portrait';\n  }\n\n  if (window.screen && window.screen.orientation && window.screen.orientation.angle) {\n    return Math.abs(window.screen.orientation.angle) === 90 ? 'landscape' : 'portrait';\n  }\n\n  // Support IOS safari\n  if (window.orientation) {\n    return Math.abs(Number(window.orientation)) === 90 ? 'landscape' : 'portrait';\n  }\n\n  return 'portrait';\n};\n\nexport function useIsLandscape(\n  views: DateTimePickerView[],\n  customOrientation?: BasePickerProps['orientation']\n): boolean {\n  const [orientation, setOrientation] = React.useState<BasePickerProps['orientation']>(\n    getOrientation()\n  );\n\n  useIsomorphicEffect(() => {\n    const eventHandler = () => {\n      setOrientation(getOrientation());\n    };\n    window.addEventListener('orientationchange', eventHandler);\n    return () => {\n      window.removeEventListener('orientationchange', eventHandler);\n    };\n  }, []);\n\n  if (arrayIncludes(views, ['hours', 'minutes', 'seconds'])) {\n    // could not display 13:34:44 in landscape mode\n    return false;\n  }\n\n  const orientationToUse = customOrientation || orientation;\n  return orientationToUse === 'landscape';\n}\n","import { styled } from '@material-ui/core/styles';\n\nexport const MobileKeyboardInputView = styled('div')(\n  {\n    padding: '16px 24px',\n  },\n  { name: 'MuiPickersMobileKeyboardInputView' }\n);\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { useViews } from '../_shared/hooks/useViews';\nimport { ClockView } from '../views/Clock/ClockView';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { DateTimePickerView } from '../DateTimePicker';\nimport { BasePickerProps } from '../typings/BasePicker';\nimport { DatePickerView } from '../DatePicker/DatePicker';\nimport { CalendarView } from '../views/Calendar/CalendarView';\nimport { withDefaultProps } from '../_shared/withDefaultProps';\nimport { KeyboardDateInput } from '../_shared/KeyboardDateInput';\nimport { useIsLandscape } from '../_shared/hooks/useIsLandscape';\nimport { DIALOG_WIDTH, VIEW_HEIGHT } from '../constants/dimensions';\nimport { PickerSelectionState } from '../_shared/hooks/usePickerState';\nimport { WrapperVariantContext } from '../wrappers/WrapperVariantContext';\nimport { MobileKeyboardInputView } from '../views/MobileKeyboardInputView';\nimport {\n  WithViewsProps,\n  AnyPickerView,\n  SharedPickerProps,\n  CalendarAndClockProps,\n} from './SharedPickerProps';\n\nexport interface ExportedPickerProps<TView extends AnyPickerView>\n  extends Omit<BasePickerProps, 'value' | 'onChange'>,\n    CalendarAndClockProps,\n    WithViewsProps<TView> {\n  // TODO move out, cause it is DateTimePickerOnly\n  hideTabs?: boolean;\n  dateRangeIcon?: React.ReactNode;\n  timeIcon?: React.ReactNode;\n}\n\nexport type PickerProps<\n  TView extends AnyPickerView,\n  TInputValue = any,\n  TDateValue = any\n> = ExportedPickerProps<TView> & SharedPickerProps<TInputValue, TDateValue>;\n\nconst muiComponentConfig = { name: 'MuiPickersBasePicker' };\n\nexport const useStyles = makeStyles(\n  {\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    landscape: {\n      flexDirection: 'row',\n    },\n    pickerView: {\n      overflowX: 'hidden',\n      width: DIALOG_WIDTH,\n      maxHeight: VIEW_HEIGHT,\n      display: 'flex',\n      flexDirection: 'column',\n      margin: '0 auto',\n    },\n    pickerViewLandscape: {\n      padding: '0 8px',\n    },\n  },\n  muiComponentConfig\n);\n\nconst MobileKeyboardTextFieldProps = { fullWidth: true };\n\nconst isDatePickerView = (view: DateTimePickerView) =>\n  view === 'year' || view === 'month' || view === 'date';\n\nfunction Picker({\n  className,\n  date,\n  DateInputProps,\n  isMobileKeyboardViewOpen,\n  onDateChange,\n  openTo = 'date',\n  orientation,\n  showToolbar,\n  toggleMobileKeyboardView,\n  ToolbarComponent = () => null,\n  toolbarFormat,\n  toolbarPlaceholder,\n  toolbarTitle,\n  views = ['year', 'month', 'date', 'hours', 'minutes', 'seconds'],\n  ...other\n}: PickerProps<AnyPickerView>) {\n  const classes = useStyles();\n  const isLandscape = useIsLandscape(views, orientation);\n  const wrapperVariant = React.useContext(WrapperVariantContext);\n\n  const toShowToolbar =\n    typeof showToolbar === 'undefined' ? wrapperVariant !== 'desktop' : showToolbar;\n\n  const handleDateChange = React.useCallback(\n    (date: unknown, selectionState?: PickerSelectionState) => {\n      onDateChange(date, wrapperVariant, selectionState);\n    },\n    [onDateChange, wrapperVariant]\n  );\n\n  const { openView, nextView, previousView, setOpenView, handleChangeAndOpenNext } = useViews({\n    views,\n    openTo,\n    onChange: handleDateChange,\n    isMobileKeyboardViewOpen,\n    toggleMobileKeyboardView,\n  });\n\n  return (\n    <div\n      className={clsx(classes.root, className, {\n        [classes.landscape]: isLandscape,\n      })}\n    >\n      {toShowToolbar && (\n        <ToolbarComponent\n          {...other}\n          views={views}\n          isLandscape={isLandscape}\n          date={date}\n          onChange={handleDateChange}\n          setOpenView={setOpenView}\n          openView={openView}\n          toolbarTitle={toolbarTitle}\n          toolbarFormat={toolbarFormat}\n          toolbarPlaceholder={toolbarPlaceholder}\n          isMobileKeyboardViewOpen={isMobileKeyboardViewOpen}\n          toggleMobileKeyboardView={toggleMobileKeyboardView}\n        />\n      )}\n\n      <div\n        className={clsx(classes.pickerView, {\n          [classes.pickerViewLandscape]: isLandscape,\n        })}\n      >\n        {isMobileKeyboardViewOpen ? (\n          <MobileKeyboardInputView>\n            <KeyboardDateInput\n              {...DateInputProps}\n              ignoreInvalidInputs\n              disableOpenPicker\n              TextFieldProps={MobileKeyboardTextFieldProps}\n            />\n          </MobileKeyboardInputView>\n        ) : (\n          <React.Fragment>\n            {(openView === 'year' || openView === 'month' || openView === 'date') && (\n              <CalendarView\n                date={date}\n                changeView={setOpenView}\n                // @ts-ignore\n                views={views}\n                onChange={handleChangeAndOpenNext}\n                view={openView as DatePickerView}\n                {...other}\n              />\n            )}\n\n            {(openView === 'hours' || openView === 'minutes' || openView === 'seconds') && (\n              <ClockView\n                {...other}\n                date={date}\n                type={openView as 'hours' | 'minutes' | 'seconds'}\n                onDateChange={handleDateChange}\n                onChange={handleChangeAndOpenNext}\n                openNextView={() => setOpenView(nextView)}\n                openPreviousView={() => setOpenView(previousView)}\n                nextViewAvailable={!Boolean(nextView)}\n                previousViewAvailable={!Boolean(previousView) || isDatePickerView(previousView)}\n                showViewSwitcher={wrapperVariant === 'desktop'}\n              />\n            )}\n          </React.Fragment>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default withDefaultProps(muiComponentConfig, Picker);\n"],"names":["findClosestEnabledDate","date","utils","minDate","maxDate","disableFuture","disablePast","shouldDisableDate","today","startOfDay","isBefore","isAfter","forward","backward","addDays","isYearOnlyView","views","length","isYearAndMonthViews","arrayIncludes","getFormatAndMaskByViews","mask","inputFormat","formats","year","disableMaskedInput","monthAndYear","keyboardDate","parsePickerInputValue","value","parsedValue","isValid","parseRangeInputValue","map","isRangeValid","range","Boolean","isWithinRange","day","isStartOfRange","isSameDay","isEndOfRange","validateDate","now","isAfterDay","isBeforeDay","validateDateRange","dateValidationProps","start","end","dateValidations","getTextFieldAriaText","rawValue","format","getDisplayDate","isEmpty","formatByString","pick12hOr24hFormat","userFormat","ampm","localized","MASK_USER_INPUT_SYMBOL","staticDateWith2DigitTokens","Date","staticDateWith1DigitTokens","checkMaskIsValidForCurrentFormat","acceptRegex","formattedDateWith1Digit","inferredFormatPatternWith1Digits","replace","inferredFormatPatternWith2Digits","isMaskValid","lib","process","env","NODE_ENV","console","warn","maskedDateFormatter","acceptRegexp","split","char","i","lastIndex","maskChar","nextMaskChar","acceptedChar","test","formattedChar","join","useMaskedInput","disabled","ignoreInvalidInputs","inputProps","label","onChange","readOnly","rifmFormatter","TextFieldProps","validationError","useUtils","isFocusedRef","React","getInputValue","formatHelperText","getFormatHelperText","innerInputValue","setInnerInputValue","shouldUseMaskedInput","formatter","st","current","handleChange","text","finalString","parse","undefined","rifmProps","useRifm","inputStateArgs","event","currentTarget","error","helperText","placeholder","type","onFocus","createDelegatedEventHandler","onBlur","KeyboardDateInput","containerRef","inputRef","forwardedRef","hideOpenPickerButton","disableOpenPicker","getOpenDialogAriaText","InputAdornmentProps","InputProps","onOpen","openPicker","OpenPickerButtonProps","openPickerIcon","React.createElement","renderInput","other","inputRefHandle","useForkRef","textFieldProps","adornmentPosition","position","ref","propTypes","PropTypes","RegExp","isRequired","useParsedDate","possiblyUnparsedValue","useNextMonthDisabled","month","lastEnabledMonth","startOfMonth","usePreviousMonthDisabled","firstEnabledMonth","datePickerView","defaultMinDate","defaultMaxDate","useViews","openTo","isMobileKeyboardViewOpen","toggleMobileKeyboardView","openView","_setOpenView","setOpenView","previousView","indexOf","nextView","openNext","handleChangeAndOpenNext","currentViewSelectionState","isSelectionFinishedOnCurrentView","globalSelectionState","useStyles","makeStyles","theme","root","flex","display","alignItems","justifyContent","cursor","outline","height","transition","transitions","create","duration","color","palette","primary","main","fontWeight","typography","fontWeightMedium","pointerEvents","secondary","selected","name","Month","children","onSelect","classes","handleSelection","clsx","onSpaceOrEnter","displayName","width","flexWrap","alignContent","MonthSelection","onMonthChange","currentMonth","getMonth","shouldDisableMonth","utilMinDate","utilMaxDate","isBeforeFirstEnabled","isAfterLastEnabled","onMonthSelect","newDate","setMonth","getMonthArray","monthNumber","monthText","createCalendarStateReducer","reduceAnimations","disableSwitchToMonthOnDayFocus","state","action","slideDirection","direction","newMonth","isMonthSwitchingAnimating","needMonthSwitch","focusedDay","isSameMonth","useCalendarState","useNow","dateForMonth","reducerFn","calendarState","dispatch","handleChangeMonth","payload","changeMonth","newDateRequested","isDateDisabled","onMonthSwitchingAnimationEnd","changeFocusedDay","newFocusedDate","animationDuration","fadeEnter","willChange","opacity","fadeEnterActive","fadeExit","fadeExitActive","FadeTransitionGroup","className","transKey","transitionClasses","exit","enterActive","enter","exitActive","element","classNames","appear","ArrowDropDownIcon","createSvgIcon","marginTop","marginBottom","paddingLeft","paddingRight","maxHeight","minHeight","yearSelectionSwitcher","marginRight","previousMonthButton","switchViewDropdown","transform","switchViewDropdownDown","monthTitleContainer","overflow","getSwitchingViewAriaText","view","CalendarHeader","currentView","changeView","leftArrowButtonProps","rightArrowButtonProps","leftArrowIcon","rightArrowIcon","leftArrowButtonText","rightArrowButtonText","getViewSwitchingButtonText","selectNextMonth","getNextMonth","selectPreviousMonth","getPreviousMonth","isNextMonthDisabled","isPreviousMonthDisabled","toggleView","find","nextIndexToOpen","React.Fragment","flexBasis","getContrastText","backgroundColor","dark","modeDesktop","yearButton","border","subtitle1","margin","borderRadius","fade","active","hoverOpacity","Year","allowKeyboardControl","focused","refHandle","canAutoFocus","useCanAutoFocus","wrapperVariant","WrapperVariantContext","focus","props","flexDirection","overflowY","YearSelection","__dateOrNull","onYearChange","shouldDisableYear","useTheme","selectedDate","currentYear","getYear","selectedYearRef","focusedYear","setFocusedYear","handleYearSelection","isFinish","submitDate","setYear","closestEnabledDate","focusYear","yearsInRow","nowFocusedYear","useGlobalKeyDown","keys","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","getYearRange","yearNumber","isBeforeYear","isAfterYear","muiComponentConfig","viewTransitionContainer","fullHeightContainer","DAY_SIZE","DAY_MARGIN","defaultReduceAnimations","navigator","userAgent","CalendarView","withDefaultProps","__allowKeyboardControlProp","loading","__maxDate","__minDate","renderLoading","isStatic","IsStaticVariantContext","getOrientation","window","screen","orientation","angle","Math","abs","Number","useIsLandscape","customOrientation","setOrientation","useIsomorphicEffect","eventHandler","addEventListener","removeEventListener","orientationToUse","MobileKeyboardInputView","styled","padding","landscape","pickerView","overflowX","DIALOG_WIDTH","VIEW_HEIGHT","pickerViewLandscape","MobileKeyboardTextFieldProps","fullWidth","isDatePickerView","Picker","DateInputProps","onDateChange","showToolbar","ToolbarComponent","toolbarFormat","toolbarPlaceholder","toolbarTitle","isLandscape","toShowToolbar","handleDateChange","selectionState"],"mappings":"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"}